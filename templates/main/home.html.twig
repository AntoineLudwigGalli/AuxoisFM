{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}
{% block cssIncludes %}
    {#    animations accueil  #}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    {#  lecteur audio #}
    <link rel="stylesheet" href='{{ asset('css/audio-player.css') }}'>
    {#    Slider carrousel cards SplideJS #}
    <link rel="stylesheet" href="https://owlcarousel2.github.io/OwlCarousel2/assets/owlcarousel/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://owlcarousel2.github.io/OwlCarousel2/assets/owlcarousel/assets/owl.theme.default.min.css">
    <link rel="stylesheet" href="{{ asset('css/slider.css') }}">
    {#    Player flip #}
    <link rel="stylesheet" href="{{ asset('css/player-flip.css') }}">
    {#    Calendar#}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/main.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.1.0/main.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.1.0/main.min.css">
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
{#    Hover.css#}
    <link rel="stylesheet" href="{{ asset('css/hover-librairy.css') }}">

{% endblock %}

{% block body %}
    <div id="calendar-holder" class="d-none"></div>
    <div id="show-list" class="d-none">
    {{ include('main/show-list.html.twig') }}
    </div>
    <div class="col-12 flex-row align-items-center animate__animated animate__fadeInLeft" id="news">
     
            <div class="owl-carousel owl-theme ">
                <div class="item py-2">
                    <img src="{{ asset('images/test-news.jpg') }}" class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">La Salamandre Noire en direct d'AuxoisFM</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/profil/default_profile.jpg') }} " class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Scoop : Shrek est de la jaquette et il kiffe ça !</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/metalesia.jpg') }}" alt="" class="img-fluid"/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Metalesia, l'émission qui te fait frissonner de joie</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/test-news.jpg') }}" class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">La Salamandre Noire en direct d'AuxoisFM</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/profil/default_profile.jpg') }} " class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Scoop : Shrek est de la jaquette et il kiffe ça !</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/metalesia.jpg') }}" alt="" class="img-fluid"/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Metalesia, l'émission qui te fait frissonner de joie</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/test-news.jpg') }}" class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">La Salamandre Noire en direct d'AuxoisFM</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/profil/default_profile.jpg') }} " class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Scoop : Shrek est de la jaquette et il kiffe ça !</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/metalesia.jpg') }}" alt="" class="img-fluid"/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Metalesia, l'émission qui te fait frissonner de joie</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/test-news.jpg') }}" class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">La Salamandre Noire en direct d'AuxoisFM</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/profil/default_profile.jpg') }} " class="img-fluid" alt=""/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Scoop : Shrek est de la jaquette et il kiffe ça !</a>
                </div>
                <div class="item py-2">
                    <img src="{{ asset('images/metalesia.jpg') }}" alt="" class="img-fluid"/>
                    <a href="{{ path('main_news') }}" target="_blank" class="img-text">Metalesia, l'émission qui te fait frissonner de joie</a>
                </div>
            </div>
        </div>
   
    
    <div class="col-12 d-flex flex-row animate__animated animate__fadeInUp" id="menu">
        
        <div class=" col-4  justify-content-center align-items-center text-center menu-link hvr-bounce-to-top target " id="podcasts">
            <h2>Grille des programmes et podcasts</h2>
        </div>
        
        
        <div class="col-4 flex-column align-items-center justify-content-center flip-card" id="player">
            <div class="d-flex flex-column align-content-end justify-content-center audio-player flip-card-inner">
                <div class="audio-container img-fluid flip-card-front">
{#                    Inclusion du lecteur audio (fichier à part pour plus de lisibilité dans le code#}
                    {{ include( 'partials/audio-player.html.twig' ) }}
                    <div class="now-playing front-btn btn btn-outline-light mt-3 col-8 offset-2 d-flex flex-row align-items-center justify-content-center">
                        <h3>Now Playing...</h3>
                    </div>
                </div>
                
                
                <div class="flip-card-back d-flex flex-column justify-content-around">
    
                        {% set a_show_is_on_air = false  %}
                            {% for show in shows %}
                                {% if
                                    show.startDate|date('Y-m-d') == "now"|date("Y-m-d") and
                                    show.showTime|date('H:i') < "now"|date("H:i") and
                                    "now"|date("H:i") < show.showTime|date_modify("+"~ show.showDuration|date("H") ~" hours +"~ show.showDuration|date("i") ~" minutes" )|date('H:i')
                                %}
                                    {% set a_show_is_on_air = true  %}
                                    <a class="on-air-txt" href="{{ show.webPageLink }}">
                                        <h3>{{ show.name|upper }}</h3>
                                    </a>
                                    <a href='{{ show.webPageLink }}' class="on-air-img mb-3 col-8 offset-2 d-flex align-items-center justify-content-center"> <img src='{{ asset('images/show_logo/' ~ show.logo) }}' alt="" class="img-fluid"> </a>
                                {% endif %}
                            {% endfor %}
                        {% if a_show_is_on_air == false %}
                            <h3 class="on-air-txt">La Playlist AuxoisFM</h3>
                            <img src='{{ asset('images/show_logo/playlistauxoisfm.png' ) }}' alt="" class="img-fluid on-air-img mb-3 col-8 offset-2">
                        {% endif %}
    
    
    
                    <div class="now-playing back-btn btn btn-outline-light col-8 offset-2 d-flex flex-row align-items-center justify-content-center mb-3">
                        <h3>Now Playing...</h3>
                    </div>
                </div>
            </div>
        </div>
        
        
        <a href='{{ path('main_news') }}' target="_blank" class=" col-4 d-flex justify-content-center align-items-center hvr-bounce-to-top text-center" id="more-news"> Encore + d'actus </a>
    </div>

{% endblock %}
{% block jsIncludes %}

    {#  jQuery  #}
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    {#    lecteur audio #}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="{{ asset('js/audio-player.js') }}"></script>
    {#    Splide Js pour le carrousel slider #}
    <script type="text/javascript" src="https://owlcarousel2.github.io/OwlCarousel2/assets/owlcarousel/owl.carousel.js"></script>
    <script src="{{ asset('js/slider.js') }}"></script>
    {#    Calendar#}
    <script src='https://cdn.jsdelivr.net/npm/rrule@2.7.1/dist/es5/rrule.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.1.0/locales-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@4.1.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@4.1.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@4.1.0/main.min.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/@fullcalendar/rrule@4.1.0/main.min.js'></script>

    <script src="{{ asset('js/program-grid.js') }}" type="module"></script>

{% endblock %}



